/**
 * Jquery Easing 
 * Copyright (c) ...
 * Dual licensed under MIT and GPL.
 *
 */
jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(j,i,b,c,d){return jQuery.easing[jQuery.easing.def](j,i,b,c,d)},easeInQuad:function(j,i,b,c,d){return c*(i/=d)*i+b},easeOutQuad:function(j,i,b,c,d){return -c*(i/=d)*(i-2)+b},easeInOutQuad:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i+b}return -c/2*((--i)*(i-2)-1)+b},easeInCubic:function(j,i,b,c,d){return c*(i/=d)*i*i+b},easeOutCubic:function(j,i,b,c,d){return c*((i=i/d-1)*i*i+1)+b},easeInOutCubic:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i*i+b}return c/2*((i-=2)*i*i+2)+b},easeInQuart:function(j,i,b,c,d){return c*(i/=d)*i*i*i+b},easeOutQuart:function(j,i,b,c,d){return -c*((i=i/d-1)*i*i*i-1)+b},easeInOutQuart:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i*i*i+b}return -c/2*((i-=2)*i*i*i-2)+b},easeInQuint:function(j,i,b,c,d){return c*(i/=d)*i*i*i*i+b},easeOutQuint:function(j,i,b,c,d){return c*((i=i/d-1)*i*i*i*i+1)+b},easeInOutQuint:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i*i*i*i+b}return c/2*((i-=2)*i*i*i*i+2)+b},easeInSine:function(j,i,b,c,d){return -c*Math.cos(i/d*(Math.PI/2))+c+b},easeOutSine:function(j,i,b,c,d){return c*Math.sin(i/d*(Math.PI/2))+b},easeInOutSine:function(j,i,b,c,d){return -c/2*(Math.cos(Math.PI*i/d)-1)+b},easeInExpo:function(j,i,b,c,d){return(i==0)?b:c*Math.pow(2,10*(i/d-1))+b},easeOutExpo:function(j,i,b,c,d){return(i==d)?b+c:c*(-Math.pow(2,-10*i/d)+1)+b},easeInOutExpo:function(j,i,b,c,d){if(i==0){return b}if(i==d){return b+c}if((i/=d/2)<1){return c/2*Math.pow(2,10*(i-1))+b}return c/2*(-Math.pow(2,-10*--i)+2)+b},easeInCirc:function(j,i,b,c,d){return -c*(Math.sqrt(1-(i/=d)*i)-1)+b},easeOutCirc:function(j,i,b,c,d){return c*Math.sqrt(1-(i=i/d-1)*i)+b},easeInOutCirc:function(j,i,b,c,d){if((i/=d/2)<1){return -c/2*(Math.sqrt(1-i*i)-1)+b}return c/2*(Math.sqrt(1-(i-=2)*i)+1)+b},easeInElastic:function(o,m,p,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return p}if((m/=b)==1){return p+a}if(!c){c=b*0.3}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}return -(n*Math.pow(2,10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c))+p},easeOutElastic:function(o,m,p,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return p}if((m/=b)==1){return p+a}if(!c){c=b*0.3}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}return n*Math.pow(2,-10*m)*Math.sin((m*b-d)*(2*Math.PI)/c)+a+p},easeInOutElastic:function(o,m,p,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return p}if((m/=b/2)==2){return p+a}if(!c){c=b*(0.3*1.5)}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}if(m<1){return -0.5*(n*Math.pow(2,10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c))+p}return n*Math.pow(2,-10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c)*0.5+a+p},easeInBack:function(l,k,b,c,d,j){if(j==undefined){j=1.70158}return c*(k/=d)*k*((j+1)*k-j)+b},easeOutBack:function(l,k,b,c,d,j){if(j==undefined){j=0.70158}return c*((k=k/d-1)*k*((j+1)*k+j)+1)+b},easeInOutBack:function(l,k,b,c,d,j){if(j==undefined){j=1.70158}if((k/=d/2)<1){return c/2*(k*k*(((j*=(1.525))+1)*k-j))+b}return c/2*((k-=2)*k*(((j*=(1.525))+1)*k+j)+2)+b},easeInBounce:function(j,i,b,c,d){return c-jQuery.easing.easeOutBounce(j,d-i,0,c,d)+b},easeOutBounce:function(j,i,b,c,d){if((i/=d)<(1/2.75)){return c*(7.5625*i*i)+b}else{if(i<(2/2.75)){return c*(7.5625*(i-=(1.5/2.75))*i+0.75)+b}else{if(i<(2.5/2.75)){return c*(7.5625*(i-=(2.25/2.75))*i+0.9375)+b}else{return c*(7.5625*(i-=(2.625/2.75))*i+0.984375)+b}}}},easeInOutBounce:function(j,i,b,c,d){if(i<d/2){return jQuery.easing.easeInBounce(j,i*2,0,c,d)*0.5+b}return jQuery.easing.easeOutBounce(j,i*2-d,0,c,d)*0.5+c*0.5+b}});

/**
 * jQuery.LocalScroll - Animated scrolling navigation, using anchors.
 * Copyright (c) 2007-2009 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * Date: 3/11/2009
 * @author Ariel Flesler
 * @version 1.2.7
 **/
;(function($){var l=location.href.replace(/#.*/,'');var g=$.localScroll=function(a){$('body').localScroll(a)};g.defaults={duration:1e3,axis:'y',event:'click',stop:true,target:window,reset:true};g.hash=function(a){if(location.hash){a=$.extend({},g.defaults,a);a.hash=false;if(a.reset){var e=a.duration;delete a.duration;$(a.target).scrollTo(0,a);a.duration=e}i(0,location,a)}};$.fn.localScroll=function(b){b=$.extend({},g.defaults,b);return b.lazy?this.bind(b.event,function(a){var e=$([a.target,a.target.parentNode]).filter(d)[0];if(e)i(a,e,b)}):this.find('a,area').filter(d).bind(b.event,function(a){i(a,this,b)}).end().end();function d(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,'')==l&&(!b.filter||$(this).is(b.filter))}};function i(a,e,b){var d=e.hash.slice(1),f=document.getElementById(d)||document.getElementsByName(d)[0];if(!f)return;if(a)a.preventDefault();var h=$(b.target);if(b.lock&&h.is(':animated')||b.onBefore&&b.onBefore.call(b,a,f,h)===false)return;if(b.stop)h.stop(true);if(b.hash){var j=f.id==d?'id':'name',k=$('<a> </a>').attr(j,d).css({position:'absolute',top:$(window).scrollTop(),left:$(window).scrollLeft()});f[j]='';$('body').prepend(k);location=e.hash;k.remove();f[j]=d}h.scrollTo(f,b).trigger('notify.serialScroll',[f])}})(jQuery);

/**
 * Copyright (c) 2007-2012 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * @author Ariel Flesler
 * @version 1.4.3.1
 */
;(function($){var h=$.scrollTo=function(a,b,c){$(window).scrollTo(a,b,c)};h.defaults={axis:'xy',duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:true};h.window=function(a){return $(window)._scrollable()};$.fn._scrollable=function(){return this.map(function(){var a=this,isWin=!a.nodeName||$.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!isWin)return a;var b=(a.contentWindow||a).document||a.ownerDocument||a;return/webkit/i.test(navigator.userAgent)||b.compatMode=='BackCompat'?b.body:b.documentElement})};$.fn.scrollTo=function(e,f,g){if(typeof f=='object'){g=f;f=0}if(typeof g=='function')g={onAfter:g};if(e=='max')e=9e9;g=$.extend({},h.defaults,g);f=f||g.duration;g.queue=g.queue&&g.axis.length>1;if(g.queue)f/=2;g.offset=both(g.offset);g.over=both(g.over);return this._scrollable().each(function(){if(e==null)return;var d=this,$elem=$(d),targ=e,toff,attr={},win=$elem.is('html,body');switch(typeof targ){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}targ=$(targ,this);if(!targ.length)return;case'object':if(targ.is||targ.style)toff=(targ=$(targ)).offset()}$.each(g.axis.split(''),function(i,a){var b=a=='x'?'Left':'Top',pos=b.toLowerCase(),key='scroll'+b,old=d[key],max=h.max(d,a);if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(g.margin){attr[key]-=parseInt(targ.css('margin'+b))||0;attr[key]-=parseInt(targ.css('border'+b+'Width'))||0}attr[key]+=g.offset[pos]||0;if(g.over[pos])attr[key]+=targ[a=='x'?'width':'height']()*g.over[pos]}else{var c=targ[pos];attr[key]=c.slice&&c.slice(-1)=='%'?parseFloat(c)/100*max:c}if(g.limit&&/^\d+$/.test(attr[key]))attr[key]=attr[key]<=0?0:Math.min(attr[key],max);if(!i&&g.queue){if(old!=attr[key])animate(g.onAfterFirst);delete attr[key]}});animate(g.onAfter);function animate(a){$elem.animate(attr,f,g.easing,a&&function(){a.call(this,e,g)})}}).end()};h.max=function(a,b){var c=b=='x'?'Width':'Height',scroll='scroll'+c;if(!$(a).is('html,body'))return a[scroll]-$(a)[c.toLowerCase()]();var d='client'+c,html=a.ownerDocument.documentElement,body=a.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[d],body[d])};function both(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);

/**
* hoverIntent r5 // 2007.03.27 // jQuery 1.1.2+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne <brian@cherne.net>
*/
;(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var p=(e.type=="mouseover"?e.fromElement:e.toElement)||e.relatedTarget;while(p&&p!=this){try{p=p.parentNode;}catch(e){p=this;}}if(p==this){return false;}var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}if(e.type=="mouseover"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.mouseover(handleHover).mouseout(handleHover);};})(jQuery);

/*
 * tweetable 1.7.1 - jQuery twitter feed plugin
 *
 * Copyright (c) 2009 Philip Beel (http://www.theodin.co.uk/)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * With modifications from Philipp Robbel (http://www.robbel.com/) & Patrick DW (stackoverflow)
 * Revision: $Id: jquery.tweetable.js 2013-06-16 $ 
 *
 */
;(function($){jQuery.fn.tweetable=function(opts){opts=$.extend({},$.fn.tweetable.options,opts);return this.each(function(){var act=jQuery(this),tweetList=jQuery('<ul class="tweetList">')[opts.position.toLowerCase()+"To"](act),shortMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],api="http://api.getmytweets.co.uk/?screenname=",limitcount="&limit=",twitterError,tweetMonth,tweetMonthInt,iterate,element;jQuery.getJSON(api+opts.username+limitcount+opts.limit,act,function(data){twitterError=
data&&data.error||null;if(twitterError){tweetList.append('<li class="tweet_content item"><p class="tweet_link">'+opts.failed+"</p></li>");return}jQuery.each(data.tweets,function(i,tweet){if(i>=opts.limit)return;tweetList.append('<li class="tweet_content_'+i+'"><p class="tweet_link_'+i+'">'+tweet.response.replace(/#(.*?)(\s|$)/g,'<span class="hash">#$1 </span>').replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$&">$&</a> ').replace(/@(.*?)(\s|\(|\)|$)/g,
'<a href="http://twitter.com/$1">@$1 </a>$2')+"</p></li>");if(opts.time===true){for(iterate=0;iterate<=12;iterate++)if(shortMonths[iterate]===tweet.tweet_date.substr(4,3)){tweetMonthInt=iterate+1;tweetMonth=tweetMonthInt<10?"0"+tweetMonthInt:tweetMonthInt}var iso8601=tweet.tweet_date.substr(26,4)+"-"+tweetMonth+"-"+tweet.tweet_date.substr(8,2)+"T"+tweet.tweet_date.substr(11,8)+"Z";jQuery(".tweet_link_"+i).append('<p class="timestamp"><'+(opts.html5?'time datetime="'+iso8601+'"':"small")+"> "+tweet.tweet_date.substr(8,
2)+"/"+tweetMonth+"/"+tweet.tweet_date.substr(26,4)+", "+tweet.tweet_date.substr(11,5)+"</"+(opts.html5?"time":"small")+"></p>")}});if(opts.rotate===true){var listItem=tweetList.find("li"),listLength=listItem.length||null,current=0,timeout=opts.speed;if(!listLength)return;function rotateTweets(){listItem.eq(current++).fadeOut(400,function(){current=current===listLength?0:current;listItem.eq(current).fadeIn(400)})}listItem.slice(1).hide();setInterval(rotateTweets,timeout)}opts.onComplete(tweetList)})})};
$.fn.tweetable.options={limit:1,username:"inventionhome",time:false,rotate:false,speed:5E3,replies:false,position:"append",failed:"No tweets available",html5:true,retweets:false,onComplete:function($ul){}}})(jQuery);


/**
 * @name		Shuffle Letters
 * @author		Martin Angelov
 * @version 	1.0
 * @url			http://tutorialzine.com/2011/09/shuffle-letters-effect-jquery/
 * @license		MIT License
 */

;(function(e){function t(e){var t="";if(e=="lowerLetter"){t="10011"}else if(e=="upperLetter"){t="001101"}else if(e=="symbol"){t="010110"}var n=t.split("");return n[Math.floor(Math.random()*n.length)]}e.fn.shuffleLetters=function(n){var r=e.extend({step:13,fps:25,text:"",callback:function(){}},n);return this.each(function(){var n=e(this),i="";if(n.data("animated")){return true}n.data("animated",true);if(r.text){i=r.text.split("")}else{i=n.text().split("")}var s=[],o=[];for(var u=0;u<i.length;u++){var a=i[u];if(a==" "){s[u]="space";continue}else if(/[a-z]/.test(a)){s[u]="lowerLetter"}else if(/[A-Z]/.test(a)){s[u]="upperLetter"}else{s[u]="symbol"}o.push(u)}n.html("");(function f(e){var u,a=o.length,l=i.slice(0);if(e>a){n.data("animated",false);r.callback(n);return}for(u=Math.max(e,0);u<a;u++){if(u<e+r.step){l[o[u]]=t(s[o[u]])}else{l[o[u]]=""}}n.text(l.join(""));setTimeout(function(){f(e+1)},1e3/r.fps)})(-r.step)})}})(jQuery);


// Add classes when elements enter viewport
;(function(e){"use strict";function t(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function n(){var t=window.innerHeight;if(t){return t}var n=document.compatMode;if(n||!e.support.boxModel){t=n==="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight}return t}function r(e){var t=0;for(var n=e;n;n=n.offsetParent){t+=n.offsetTop}return t}function i(){var i=t(),s=i+n(),o=[];e.each(e.cache,function(){if(this.events&&this.events.inview){o.push(this.handle.elem)}});e(o).each(function(){var t=e(this),n=r(this),o=t.height(),u=n+o,a=t.data("inview")||false,f=t.data("offset")||10,l=n>i&&u<s,c=u+f>i&&n<i,h=n-f<s&&u>s,p=l||c||h||n<i&&u>s;if(p){var d=h?"top":c?"bottom":"both";if(!a||a!==d){t.data("inview",d);t.trigger("inview",[true,d])}}else if(!l&&a){t.data("inview",false);t.trigger("inview",[false])}})}function s(e,t){function i(){if(r!==null){n=true;return}n=false;e();r=setTimeout(function(){r=null;if(n){i()}},t)}var n=false;var r=null;return i}var o=s(i,100);e(window).on("checkInView.inview click.inview ready.inview scroll.inview resize.inview",o)})(jQuery);


/*
* MIXITUP - A CSS3 and JQuery Filter & Sort Plugin
* Version: 1.5.4
* License: Creative Commons Attribution-NoDerivs 3.0 Unported - CC BY-ND 3.0
* http://creativecommons.org/licenses/by-nd/3.0/
* This software may be used freely on commercial and non-commercial projects with attribution to the author/copyright holder.
* Author: Patrick Kunka
* Copyright 2012-2013 Patrick Kunka, Barrel LLC, All Rights Reserved
* 
* http://mixitup.io
*/

(function(e){function q(c,b,g,d,a){function k(){l.unbind("webkitTransitionEnd transitionend otransitionend oTransitionEnd");b&&w(b,g,d,a);a.startOrder=[];a.newOrder=[];a.origSort=[];a.checkSort=[];r.removeStyle(a.prefix+"filter, filter, "+a.prefix+"transform, transform, opacity, display").css(a.clean).removeAttr("data-checksum");window.atob||r.css({display:"none",opacity:"0"});l.removeStyle(a.prefix+"transition, transition, "+a.prefix+"perspective, perspective, "+a.prefix+"perspective-origin, perspective-origin, "+
(a.resizeContainer?"height":""));"list"==a.layoutMode?(n.css({display:a.targetDisplayList,opacity:"1"}),a.origDisplay=a.targetDisplayList):(n.css({display:a.targetDisplayGrid,opacity:"1"}),a.origDisplay=a.targetDisplayGrid);a.origLayout=a.layoutMode;setTimeout(function(){r.removeStyle(a.prefix+"transition, transition");a.mixing=!1;if("function"==typeof a.onMixEnd){var b=a.onMixEnd.call(this,a);a=b?b:a}})}clearInterval(a.failsafe);a.mixing=!0;a.filter=c;if("function"==typeof a.onMixStart){var f=a.onMixStart.call(this,
a);a=f?f:a}for(var h=a.transitionSpeed,f=0;2>f;f++){var j=0==f?j=a.prefix:"";a.transition[j+"transition"]="all "+h+"ms linear";a.transition[j+"transform"]=j+"translate3d(0,0,0)";a.perspective[j+"perspective"]=a.perspectiveDistance+"px";a.perspective[j+"perspective-origin"]=a.perspectiveOrigin}var s=a.targetSelector,r=d.find(s);r.each(function(){this.data={}});var l=r.parent();l.css(a.perspective);a.easingFallback="ease-in-out";"smooth"==a.easing&&(a.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)");
"snap"==a.easing&&(a.easing="cubic-bezier(0.77, 0, 0.175, 1)");"windback"==a.easing&&(a.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",a.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)");"windup"==a.easing&&(a.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",a.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)");f="list"==a.layoutMode&&null!=a.listEffects?a.listEffects:a.effects;Array.prototype.indexOf&&(a.fade=-1<f.indexOf("fade")?"0":"",a.scale=-1<f.indexOf("scale")?"scale(.01)":"",a.rotateZ=
-1<f.indexOf("rotateZ")?"rotate(180deg)":"",a.rotateY=-1<f.indexOf("rotateY")?"rotateY(90deg)":"",a.rotateX=-1<f.indexOf("rotateX")?"rotateX(90deg)":"",a.blur=-1<f.indexOf("blur")?"blur(8px)":"",a.grayscale=-1<f.indexOf("grayscale")?"grayscale(100%)":"");var n=e(),t=e(),u=[],q=!1;"string"===typeof c?u=y(c):(q=!0,e.each(c,function(a){u[a]=y(this)}));"or"==a.filterLogic?(""==u[0]&&u.shift(),1>u.length?t=t.add(d.find(s+":visible")):r.each(function(){var a=e(this);if(q){var b=0;e.each(u,function(){this.length?
a.is("."+this.join(", ."))&&b++:0<b&&b++});b==u.length?n=n.add(a):t=t.add(a)}else a.is("."+u.join(", ."))?n=n.add(a):t=t.add(a)})):(n=n.add(l.find(s+"."+u.join("."))),t=t.add(l.find(s+":not(."+u.join(".")+"):visible")));c=n.length;var v=e(),p=e(),m=e();t.each(function(){var a=e(this);"none"!=a.css("display")&&(v=v.add(a),m=m.add(a))});if(n.filter(":visible").length==c&&!v.length&&!b){if(a.origLayout==a.layoutMode)return k(),!1;if(1==n.length)return"list"==a.layoutMode?(d.addClass(a.listClass),d.removeClass(a.gridClass),
m.css("display",a.targetDisplayList)):(d.addClass(a.gridClass),d.removeClass(a.listClass),m.css("display",a.targetDisplayGrid)),k(),!1}a.origHeight=l.height();if(n.length){d.removeClass(a.failClass);n.each(function(){var a=e(this);"none"==a.css("display")?p=p.add(a):m=m.add(a)});if(a.origLayout!=a.layoutMode&&!1==a.animateGridList)return"list"==a.layoutMode?(d.addClass(a.listClass),d.removeClass(a.gridClass),m.css("display",a.targetDisplayList)):(d.addClass(a.gridClass),d.removeClass(a.listClass),
m.css("display",a.targetDisplayGrid)),k(),!1;if(!window.atob)return k(),!1;r.css(a.clean);m.each(function(){this.data.origPos=e(this).offset()});"list"==a.layoutMode?(d.addClass(a.listClass),d.removeClass(a.gridClass),p.css("display",a.targetDisplayList)):(d.addClass(a.gridClass),d.removeClass(a.listClass),p.css("display",a.targetDisplayGrid));p.each(function(){this.data.showInterPos=e(this).offset()});v.each(function(){this.data.hideInterPos=e(this).offset()});m.each(function(){this.data.preInterPos=
e(this).offset()});"list"==a.layoutMode?m.css("display",a.targetDisplayList):m.css("display",a.targetDisplayGrid);b&&w(b,g,d,a);if(c=b)a:if(c=a.origSort,f=a.checkSort,c.length!=f.length)c=!1;else{for(j=0;j<f.length;j++)if(c[j].compare&&!c[j].compare(f[j])||c[j]!==f[j]){c=!1;break a}c=!0}if(c)return k(),!1;v.hide();p.each(function(){this.data.finalPos=e(this).offset()});m.each(function(){this.data.finalPrePos=e(this).offset()});a.newHeight=l.height();b&&w("reset",null,d,a);p.hide();m.css("display",
a.origDisplay);"block"==a.origDisplay?(d.addClass(a.listClass),p.css("display",a.targetDisplayList)):(d.removeClass(a.listClass),p.css("display",a.targetDisplayGrid));a.resizeContainer&&l.css("height",a.origHeight+"px");c={};for(f=0;2>f;f++)j=0==f?j=a.prefix:"",c[j+"transform"]=a.scale+" "+a.rotateX+" "+a.rotateY+" "+a.rotateZ,c[j+"filter"]=a.blur+" "+a.grayscale;p.css(c);m.each(function(){var b=this.data,c=e(this);c.hasClass("mix_tohide")?(b.preTX=b.origPos.left-b.hideInterPos.left,b.preTY=b.origPos.top-
b.hideInterPos.top):(b.preTX=b.origPos.left-b.preInterPos.left,b.preTY=b.origPos.top-b.preInterPos.top);for(var d={},f=0;2>f;f++){var j=0==f?j=a.prefix:"";d[j+"transform"]="translate("+b.preTX+"px,"+b.preTY+"px)"}c.css(d)});"list"==a.layoutMode?(d.addClass(a.listClass),d.removeClass(a.gridClass)):(d.addClass(a.gridClass),d.removeClass(a.listClass));setTimeout(function(){if(a.resizeContainer){for(var b={},c=0;2>c;c++){var d=0==c?d=a.prefix:"";b[d+"transition"]="all "+h+"ms ease-in-out";b.height=a.newHeight+
"px"}l.css(b)}v.css("opacity",a.fade);p.css("opacity",1);p.each(function(){var b=this.data;b.tX=b.finalPos.left-b.showInterPos.left;b.tY=b.finalPos.top-b.showInterPos.top;for(var c={},d=0;2>d;d++){var f=0==d?f=a.prefix:"";c[f+"transition-property"]=f+"transform, "+f+"filter, opacity";c[f+"transition-timing-function"]=a.easing+", linear, linear";c[f+"transition-duration"]=h+"ms";c[f+"transition-delay"]="0";c[f+"transform"]="translate("+b.tX+"px,"+b.tY+"px)";c[f+"filter"]="none"}e(this).css("-webkit-transition",
"all "+h+"ms "+a.easingFallback).css(c)});m.each(function(){var b=this.data;b.tX=0!=b.finalPrePos.left?b.finalPrePos.left-b.preInterPos.left:0;b.tY=0!=b.finalPrePos.left?b.finalPrePos.top-b.preInterPos.top:0;for(var c={},d=0;2>d;d++){var f=0==d?f=a.prefix:"";c[f+"transition"]="all "+h+"ms "+a.easing;c[f+"transform"]="translate("+b.tX+"px,"+b.tY+"px)"}e(this).css("-webkit-transition","all "+h+"ms "+a.easingFallback).css(c)});b={};for(c=0;2>c;c++)d=0==c?d=a.prefix:"",b[d+"transition"]="all "+h+"ms "+
a.easing+", "+d+"filter "+h+"ms linear, opacity "+h+"ms linear",b[d+"transform"]=a.scale+" "+a.rotateX+" "+a.rotateY+" "+a.rotateZ,b[d+"filter"]=a.blur+" "+a.grayscale,b.opacity=a.fade;v.css(b);l.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(b){if(-1<b.originalEvent.propertyName.indexOf("transform")||-1<b.originalEvent.propertyName.indexOf("opacity"))-1<s.indexOf(".")?e(b.target).hasClass(s.replace(".",""))&&k():e(b.target).is(s)&&k()})},10);a.failsafe=setTimeout(function(){a.mixing&&
k()},h+400)}else{a.resizeContainer&&l.css("height",a.origHeight+"px");if(!window.atob)return k(),!1;v=t;setTimeout(function(){l.css(a.perspective);if(a.resizeContainer){for(var b={},c=0;2>c;c++){var e=0==c?e=a.prefix:"";b[e+"transition"]="height "+h+"ms ease-in-out";b.height=a.minHeight+"px"}l.css(b)}r.css(a.transition);if(t.length){b={};for(c=0;2>c;c++)e=0==c?e=a.prefix:"",b[e+"transform"]=a.scale+" "+a.rotateX+" "+a.rotateY+" "+a.rotateZ,b[e+"filter"]=a.blur+" "+a.grayscale,b.opacity=a.fade;v.css(b);
l.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(b){if(-1<b.originalEvent.propertyName.indexOf("transform")||-1<b.originalEvent.propertyName.indexOf("opacity"))d.addClass(a.failClass),k()})}else a.mixing=!1},10)}}function w(c,b,g,d){function a(b,a){var d=isNaN(1*b.attr(c))?b.attr(c).toLowerCase():1*b.attr(c),e=isNaN(1*a.attr(c))?a.attr(c).toLowerCase():1*a.attr(c);return d<e?-1:d>e?1:0}function k(a){"asc"==b?f.prepend(a).prepend(" "):f.append(a).append(" ")}g.find(d.targetSelector).wrapAll('<div class="mix_sorter"/>');
var f=g.find(".mix_sorter");d.origSort.length||f.find(d.targetSelector+":visible").each(function(){e(this).wrap("<s/>");d.origSort.push(e(this).parent().html().replace(/\s+/g,""));e(this).unwrap()});f.empty();if("reset"==c)e.each(d.startOrder,function(){f.append(this).append(" ")});else if("default"==c)e.each(d.origOrder,function(){k(this)});else if("random"==c){if(!d.newOrder.length){for(var h=d.startOrder.slice(),j=h.length,s=j;s--;){var r=parseInt(Math.random()*j),l=h[s];h[s]=h[r];h[r]=l}d.newOrder=
h}e.each(d.newOrder,function(){f.append(this).append(" ")})}else if("custom"==c)e.each(b,function(){k(this)});else{if("undefined"===typeof d.origOrder[0].attr(c))return console.log("No such attribute found. Terminating"),!1;d.newOrder.length||(e.each(d.origOrder,function(){d.newOrder.push(e(this))}),d.newOrder.sort(a));e.each(d.newOrder,function(){k(this)})}d.checkSort=[];f.find(d.targetSelector+":visible").each(function(b){var a=e(this);0==b&&a.attr("data-checksum","1");a.wrap("<s/>");d.checkSort.push(a.parent().html().replace(/\s+/g,
""));a.unwrap()});g.find(d.targetSelector).unwrap()}function y(c){c=c.replace(/\s{2,}/g," ");var b=c.split(" ");e.each(b,function(c){"all"==this&&(b[c]="mix_all")});""==b[0]&&b.shift();return b}var x={init:function(c){return this.each(function(){var b={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",
transitionSpeed:600,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},
clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};c&&e.extend(b,c);this.config=b;e.support.touch="ontouchend"in document;e.support.touch&&(b.isTouch=!0,b.resetDelay=350);b.container=e(this);var g=b.container,d;a:{d=g[0];for(var a=["Webkit","Moz","O","ms"],k=0;k<a.length;k++)if(a[k]+"Transition"in d.style){d=a[k];break a}d="transition"in d.style?"":!1}b.prefix=d;b.prefix=b.prefix?"-"+b.prefix.toLowerCase()+"-":"";g.find(b.targetSelector).each(function(){b.origOrder.push(e(this))});
if(b.sortOnLoad){var f;e.isArray(b.sortOnLoad)?(d=b.sortOnLoad[0],f=b.sortOnLoad[1],e(b.sortSelector+"[data-sort="+b.sortOnLoad[0]+"][data-order="+b.sortOnLoad[1]+"]").addClass("active")):(e(b.sortSelector+"[data-sort="+b.sortOnLoad+"]").addClass("active"),d=b.sortOnLoad,b.sortOnLoad="desc");w(d,f,g,b)}for(f=0;2>f;f++)d=0==f?d=b.prefix:"",b.transition[d+"transition"]="all "+b.transitionSpeed+"ms ease-in-out",b.perspective[d+"perspective"]=b.perspectiveDistance+"px",b.perspective[d+"perspective-origin"]=
b.perspectiveOrigin;for(f=0;2>f;f++)d=0==f?d=b.prefix:"",b.clean[d+"transition"]="none";"list"==b.layoutMode?(g.addClass(b.listClass),b.origDisplay=b.targetDisplayList):(g.addClass(b.gridClass),b.origDisplay=b.targetDisplayGrid);b.origLayout=b.layoutMode;f=b.showOnLoad.split(" ");e.each(f,function(){e(b.filterSelector+'[data-filter="'+this+'"]').addClass("active")});g.find(b.targetSelector).addClass("mix_all");"all"==f[0]&&(f[0]="mix_all",b.showOnLoad="mix_all");var h=e();e.each(f,function(){h=h.add(e("."+
this))});h.each(function(){var a=e(this);"list"==b.layoutMode?a.css("display",b.targetDisplayList):a.css("display",b.targetDisplayGrid);a.css(b.transition)});setTimeout(function(){b.mixing=!0;h.css("opacity","1");setTimeout(function(){"list"==b.layoutMode?h.removeStyle(b.prefix+"transition, transition").css({display:b.targetDisplayList,opacity:1}):h.removeStyle(b.prefix+"transition, transition").css({display:b.targetDisplayGrid,opacity:1});b.mixing=!1;if("function"==typeof b.onMixLoad){var a=b.onMixLoad.call(this,
b);b=a?a:b}},b.transitionSpeed)},10);b.filter=b.showOnLoad;e(b.sortSelector).bind(b.buttonEvent,function(){if(!b.mixing){var a=e(this),c=a.attr("data-sort"),d=a.attr("data-order");if(a.hasClass("active")){if("random"!=c)return!1}else e(b.sortSelector).removeClass("active"),a.addClass("active");g.find(b.targetSelector).each(function(){b.startOrder.push(e(this))});q(b.filter,c,d,g,b)}});e(b.filterSelector).bind(b.buttonEvent,function(){if(!b.mixing){var a=e(this);if(!1==b.multiFilter)e(b.filterSelector).removeClass("active"),
a.addClass("active"),b.filter=a.attr("data-filter"),e(b.filterSelector+'[data-filter="'+b.filter+'"]').addClass("active");else{var c=a.attr("data-filter");a.hasClass("active")?(a.removeClass("active"),b.filter=b.filter.replace(RegExp("(\\s|^)"+c),"")):(a.addClass("active"),b.filter=b.filter+" "+c)}q(b.filter,null,null,g,b)}})})},toGrid:function(){return this.each(function(){var c=this.config;"grid"!=c.layoutMode&&(c.layoutMode="grid",q(c.filter,null,null,e(this),c))})},toList:function(){return this.each(function(){var c=
this.config;"list"!=c.layoutMode&&(c.layoutMode="list",q(c.filter,null,null,e(this),c))})},filter:function(c){return this.each(function(){var b=this.config;b.mixing||(e(b.filterSelector).removeClass("active"),e(b.filterSelector+'[data-filter="'+c+'"]').addClass("active"),q(c,null,null,e(this),b))})},sort:function(c){return this.each(function(){var b=this.config,g=e(this);if(!b.mixing){e(b.sortSelector).removeClass("active");if(e.isArray(c)){var d=c[0],a=c[1];e(b.sortSelector+'[data-sort="'+c[0]+'"][data-order="'+
c[1]+'"]').addClass("active")}else e(b.sortSelector+'[data-sort="'+c+'"]').addClass("active"),d=c,a="desc";g.find(b.targetSelector).each(function(){b.startOrder.push(e(this))});q(b.filter,d,a,g,b)}})},multimix:function(c){return this.each(function(){var b=this.config,g=e(this);multiOut={filter:b.filter,sort:null,order:"desc",layoutMode:b.layoutMode};e.extend(multiOut,c);b.mixing||(e(b.filterSelector).add(b.sortSelector).removeClass("active"),e(b.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),
"undefined"!==typeof multiOut.sort&&(e(b.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),g.find(b.targetSelector).each(function(){b.startOrder.push(e(this))})),b.layoutMode=multiOut.layoutMode,q(multiOut.filter,multiOut.sort,multiOut.order,g,b))})},remix:function(c){return this.each(function(){var b=this.config,g=e(this);b.origOrder=[];g.find(b.targetSelector).each(function(){var c=e(this);c.addClass("mix_all");b.origOrder.push(c)});!b.mixing&&"undefined"!==
typeof c&&(e(b.filterSelector).removeClass("active"),e(b.filterSelector+'[data-filter="'+c+'"]').addClass("active"),q(c,null,null,g,b))})}};e.fn.mixitup=function(c,b){if(x[c])return x[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return x.init.apply(this,arguments)};e.fn.removeStyle=function(c){return this.each(function(){var b=e(this);c=c.replace(/\s+/g,"");var g=c.split(",");e.each(g,function(){var c=RegExp(this.toString()+"[^;]+;?","g");b.attr("style",function(a,
b){if(b)return b.replace(c,"")})})})}})(jQuery);



//NiceScroll
(function(e){function u(){var e=document.getElementsByTagName("script");var t=e[e.length-1].src.split("?")[0];return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}function m(e,t,n){for(var r=0;r<t.length;r++)n(e,t[r])}var t=false;var n=false;var r=false;var i=5e3;var s=2e3;var o=e;var f=u();var l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||false}();var c=function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||false}();var h=function(e,r){var u=this;this.version="2.9.2";this.name="nicescroll";this.me=r;this.opt={doc:o("body"),win:false,zindex:9e3,cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:70,mousescrollstep:8*5,touchbehavior:false,hwacceleration:true,usetransition:true,boxzoom:false,dblclickzoom:true,gesturezoom:true,grabcursorenabled:true,autohidemode:true,background:"",iframeautoresize:true,cursorminheight:20,preservenativescrolling:true,railoffset:false,bouncescroll:false,spacebarenabled:true};if(e||false){for(var a in u.opt){if(typeof e[a]!="undefined")u.opt[a]=e[a]}}this.doc=u.opt.doc;this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(u.opt.win?u.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=u.opt.win!==false;this.win=u.opt.win||(this.ispage?o(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?o(window):this.win;this.body=o("body");this.iframe=false;this.isiframe=this.doc[0].nodeName=="IFRAME"&&this.win[0].nodeName=="IFRAME";this.istextarea=this.win[0].nodeName=="TEXTAREA";this.onmousedown=false;this.onmouseup=false;this.onmousemove=false;this.onmousewheel=false;this.onkeypress=false;this.ongesturezoom=false;this.onclick=false;this.view=false;this.page=false;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.scrollmom=false;do{this.id="ascrail"+s++}while(document.getElementById(this.id));this.rail=false;this.cursor=false;this.cursorfreezed=false;this.zoom=false;this.zoomactive=false;this.hasfocus=false;this.hasmousefocus=false;this.visibility=true;this.locked=false;this.hidden=false;this.nativescrollingarea=false;this.events=[];this.saved={};this.delaylist={};var h=document.createElement("DIV");this.isopera="opera"in window;this.isie="all"in document&&"attachEvent"in h&&!this.isopera;this.isieold=this.isie&&!("msInterpolationMode"in h.style);this.isie7=this.isie&&!this.isieold&&(!("documentMode"in document)||document.documentMode==7);this.isie8=this.isie&&"documentMode"in document&&document.documentMode==8;this.isie9=this.isie&&"performance"in window&&document.documentMode>=9;this.ismozilla="MozAppearance"in h.style;this.ischrome="chrome"in window;this.cantouch="ontouchstart"in document.documentElement;this.isios=this.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform);this.isios4=this.isios&&!("seal"in Object);if(u.opt.hwacceleration){this.trstyle=window.opera?"OTransform":document.all?"msTransform":h.style.webkitTransform!==undefined?"webkitTransform":h.style.MozTransform!==undefined?"MozTransform":false;if(this.trstyle&&typeof h.style[this.trstyle]=="undefined")this.trstyle=false;this.hastransform=this.trstyle!=false;if(this.hastransform){h.style[this.trstyle]="translate3d(1px,2px,3px)";this.hastranslate3d=/translate3d/.test(h.style[this.trstyle])}this.transitionstyle=false;this.prefixstyle="";this.transitionend=false;var d=["transition","webkitTransition","MozTransition","OTransition","msTransition","KhtmlTransition"];var v=["","-webkit-","-moz-","-o-","-ms-","-khtml-"];var m=["transitionEnd","webkitTransitionEnd","transitionend","oTransitionEnd","msTransitionEnd","KhtmlTransitionEnd"];for(var a=0;a<d.length;a++){if(d[a]in h.style){this.transitionstyle=d[a];this.prefixstyle=v[a];this.transitionend=m[a];break}}this.hastransition=this.transitionstyle}else{this.trstyle=false;this.hastransform=false;this.hastranslate3d=false;this.transitionstyle=false;this.hastransition=false;this.transitionend=false}this.cursorgrabvalue="";if(u.opt.grabcursorenabled&&u.opt.touchbehavior){function g(){var e=["-moz-grab","-webkit-grab","grab"];if(u.ischrome||u.isie)e=[];for(var t=0;t<e.length;t++){var n=e[t];h.style["cursor"]=n;if(h.style["cursor"]==n)return n}return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}this.cursorgrabvalue=g()}h=null;this.ishwscroll=u.hastransform&&u.opt.hwacceleration&&u.haswrapper;this.delayed=function(e,t,n){var r=u.delaylist[e];var i=(new Date).getTime();if(r&&r.tt)return false;if(r&&r.last+n>i&&!r.tt){u.delaylist[e]={last:i+n,tt:setTimeout(function(){u.delaylist[e].tt=0;t.call()},n)}}else if(!r||!r.tt){u.delaylist[e]={last:i,tt:0};setTimeout(function(){t.call()},0)}};this.css=function(e,t){for(var n in t){u.saved.css.push([e,n,e.css(n)]);e.css(n,t[n])}};this.scrollTop=function(e){return typeof e=="undefined"?u.getScrollTop():u.setScrollTop(e)};BezierClass=function(e,t,n,r,i,s,o){this.st=e;this.ed=t;this.spd=n;this.p1=r||0;this.p2=i||1;this.p3=s||0;this.p4=o||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=(new Date).getTime();var t=1-(e-this.ts)/this.spd;var n=this.B2(t)+this.B3(t)+this.B4(t);return t<0?this.ed:this.st+Math.round(this.df*n)},update:function(e,t){this.st=this.getNow();this.ed=e;this.spd=t;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0};if(this.hastranslate3d)this.doc.css(this.prefixstyle+"backface-visibility","hidden");this.getScrollTop=function(e){if(u.timerscroll&&!e){return u.timerscroll.bz.getNow()}else{return u.doc.translate.y}};if(document.createEvent){this.notifyScrollEvent=function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",false,true,window,1);e.dispatchEvent(t)}}else if(document.fireEvent){this.notifyScrollEvent=function(e){var t=document.createEventObject();e.fireEvent("onscroll");t.cancelBubble=true}}else{this.notifyScrollEvent=function(e){}}if(this.hastranslate3d){this.setScrollTop=function(e,t){u.doc.css(u.trstyle,"translate3d(0px,"+e*-1+"px,0px)");u.doc.translate.y=e;if(!t)u.notifyScrollEvent(u.win[0])}}else{this.setScrollTop=function(e,t){u.doc.css(u.trstyle,"translate(0px,"+e*-1+"px)");u.doc.translate.y=e;if(!t)u.notifyScrollEvent(u.win[0])}}}else{this.getScrollTop=function(){return u.docscroll.scrollTop()};this.setScrollTop=function(e){return u.docscroll.scrollTop(e)}}this.getTarget=function(e){if(!e)return false;if(e.target)return e.target;if(e.srcElement)return e.srcElement;return false};this.hasParent=function(e,t){if(!e)return false;var n=e.target||e.srcElement||e||false;while(n&&n.id!=t){n=n.parentNode||false}return n!==false};this.updateScrollBar=function(e){if(u.ishwscroll){u.rail.css({height:u.win.innerHeight()})}else{var t=u.win.offset();t.top+=2;var n=(u.win.outerWidth()-u.win.innerWidth())/2;t.left+=u.win.innerWidth()+n-u.rail.width-1;var r=u.opt.railoffset;if(r){if(r.top)t.top+=r.top;if(r.left)t.left+=r.left}u.rail.css({top:t.top,left:t.left,height:e?e.h:u.win.innerHeight()});if(u.zoom)u.zoom.css({top:t.top+1,left:t.left-20})}};u.hasanimationframe=l;u.hascancelanimationframe=c;if(!u.hasanimationframe){l=function(e){return setTimeout(e,1e3/60)};c=clearInterval}else if(!u.hascancelanimationframe)c=function(){u.cancelAnimationFrame=true};this.init=function(){u.saved.css=[];if(!u.ispage||!u.cantouch&&!u.isieold){var e=u.docscroll;if(u.ispage)e=u.haswrapper?u.win:u.doc;u.css(e,{"overflow-y":"hidden"});if(u.ispage&&u.isie7&&u.win[0].nodeName=="BODY")u.css(o("html"),{"overflow-y":"hidden"});var r=o(document.createElement("div"));r.css({position:"relative",top:0,"float":"right",width:u.opt.cursorwidth,height:"0px","background-color":u.opt.cursorcolor,border:u.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":u.opt.cursorborderradius,"-moz-border-radius":u.opt.cursorborderradius,"border-radius":u.opt.cursorborderradius});r.hborder=parseFloat(r.outerHeight()-r.innerHeight());u.cursor=r;var s=o(document.createElement("div"));s.attr("id",u.id);s.width=1+Math.max(parseFloat(u.opt.cursorwidth),r.outerWidth());s.css({"padding-left":"0px","padding-right":"1px",width:s.width+"px",zIndex:u.ispage?u.opt.zindex:u.opt.zindex+2,background:u.opt.background});s.append(r);u.rail=s;u.rail.drag=false;var a=false;if(u.opt.boxzoom&&!u.ispage&&!u.isieold){a=document.createElement("div");u.bind(a,"click",u.doZoom);u.zoom=o(a);u.zoom.css({cursor:"pointer","z-index":u.opt.zindex,backgroundImage:"url("+f+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"});if(u.opt.dblclickzoom)u.bind(u.win,"dblclick",u.doZoom);if(u.cantouch&&u.opt.gesturezoom){u.ongesturezoom=function(e){if(e.scale>1.5)u.doZoomIn(e);if(e.scale<.8)u.doZoomOut(e);return u.cancelEvent(e)};u.bind(u.win,"gestureend",u.ongesturezoom)}}if(u.ispage){s.css({position:"fixed",top:"0px",right:"0px",height:"100%"});u.body.append(s)}else{if(u.ishwscroll){if(u.win.css("position")=="static")u.css(u.win,{position:"relative"});var l=u.win[0].nodeName=="HTML"?u.body:u.win;if(u.zoom){u.zoom.css({position:"absolute",top:1,right:0,"margin-right":s.width+4});l.append(u.zoom)}s.css({position:"absolute",top:0,right:0});l.append(s)}else{s.css({position:"absolute"});if(u.zoom)u.zoom.css({position:"absolute"});u.updateScrollBar();u.body.append(s);if(u.zoom)u.body.append(u.zoom)}if(u.isios)u.css(u.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"})}if(u.opt.autohidemode===false){u.autohidedom=false}else if(u.opt.autohidemode===true){u.autohidedom=u.rail}else if(u.opt.autohidemode=="cursor"){u.autohidedom=u.cursor}if(u.cantouch||u.opt.touchbehavior){u.scrollmom={y:new p(u)};u.onmousedown=function(e){if(!u.locked){u.cancelScroll();u.rail.drag={x:e.clientX,y:e.clientY,sx:u.scroll.x,sy:u.scroll.y,st:u.getScrollTop()};u.hasmoving=false;u.lastmouseup=false;u.scrollmom.y.reset(e.clientY);if(!u.cantouch)return u.cancelEvent(e)}};u.onmouseup=function(e){if(u.rail.drag){u.scrollmom.y.doMomentum();u.rail.drag=false;if(u.hasmoving){u.hasmoving=false;u.lastmouseup=true;u.hideCursor();if(!u.cantouch)return u.cancelEvent(e)}}};u.onclick=u.isios?false:function(e){if(u.lastmouseup){u.lastmouseup=false;return u.cancelEvent(e)}else{return true}};u.onmousemove=function(e){if(u.rail.drag){if(u.cantouch&&typeof e.original=="undefined")return true;u.hasmoving=true;var t=e.clientY-u.rail.drag.y;var n=e.clientY;var r=u.rail.drag.st-t;if(u.ishwscroll){if(r<0){r=Math.round(r/2);n=0}else if(r>u.page.maxh){r=u.page.maxh+Math.round((r-u.page.maxh)/2);n=0}}else{if(r<0)r=0;if(r>u.page.maxh)r=u.page.maxh}if(u.prepareTransition)u.prepareTransition(0);u.setScrollTop(r);u.showCursor(r);u.scrollmom.y.update(n);return u.cancelEvent(e)}};if(u.cursorgrabvalue){u.css(u.ispage?u.doc:u.win,{cursor:u.cursorgrabvalue});u.css(u.rail,{cursor:u.cursorgrabvalue})}}else{u.onmousedown=function(e){if(u.locked)return u.cancelEvent(e);u.cancelScroll();u.rail.drag={x:e.pageX,y:e.clientY,sx:u.scroll.x,sy:u.scroll.y};return u.cancelEvent(e)};u.onmouseup=function(e){if(u.rail.drag){u.rail.drag=false;return u.cancelEvent(e)}};u.onmousemove=function(e){if(u.rail.drag){u.scroll.y=u.rail.drag.sy+(e.clientY-u.rail.drag.y);if(u.scroll.y<0)u.scroll.y=0;var t=u.scrollvaluemax;if(u.scroll.y>t)u.scroll.y=t;u.showCursor();u.cursorfreezed=true;u.doScroll(Math.round(u.scroll.y*u.scrollratio.y));return u.cancelEvent(e)}else{u.checkarea=true}}}if(u.cantouch||u.opt.touchbehavior){u.bind(u.win,"mousedown",u.onmousedown)}u.bind(u.cursor,"mousedown",u.onmousedown);u.bind(u.cursor,"mouseup",function(e){u.rail.drag=false;u.hasmoving=false;u.hideCursor();return u.cancelEvent(e)});u.bind(document,"mouseup",u.onmouseup);u.bind(document,"mousemove",u.onmousemove);if(u.onclick)u.bind(document,"click",u.onclick);if(!u.cantouch){u.rail.mouseenter(function(){u.showCursor();u.rail.active=true});u.rail.mouseleave(function(){u.rail.active=false;if(!u.rail.drag)u.hideCursor()});if(!u.isiframe)u.bind(u.isie&&u.ispage?document:u.docscroll,"mousewheel",u.onmousewheel);u.bind(u.rail,"mousewheel",u.onmousewheel)}if(u.zoom){u.zoom.mouseenter(function(){u.showCursor();u.rail.active=true});u.zoom.mouseleave(function(){u.rail.active=false;if(!u.rail.drag)u.hideCursor()})}if(!u.ispage&&!u.cantouch&&!/HTML|BODY/.test(u.win[0].nodeName)){if(!u.win.attr("tabindex"))u.win.attr({tabindex:i++});u.win.focus(function(e){t=u.getTarget(e).id||true;u.hasfocus=true;u.noticeCursor()});u.win.blur(function(e){t=false;u.hasfocus=false});u.win.mouseenter(function(e){n=u.getTarget(e).id||true;u.hasmousefocus=true;u.noticeCursor()});u.win.mouseleave(function(){n=false;u.hasmousefocus=false})}u.onkeypress=function(e){if(u.locked&&u.page.maxh==0)return true;e=e?e:window.e;var r=u.getTarget(e);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)){var i=r.getAttribute("type")||r.type||false;if(!i||!/submit|button|cancel/i.tp)return true}if(u.hasfocus||u.hasmousefocus&&!t||u.ispage&&!t&&!n){var s=e.keyCode;if(u.locked&&s!=27)return u.cancelEvent(e);var o=false;switch(s){case 38:case 63233:u.doScrollBy(24*3);o=true;break;case 40:case 63235:u.doScrollBy(-24*3);o=true;break;case 33:case 63276:u.doScrollBy(u.view.h);o=true;break;case 34:case 63277:u.doScrollBy(-u.view.h);o=true;break;case 36:case 63273:u.doScrollTo(0);o=true;break;case 35:case 63275:u.doScrollTo(u.page.maxh);o=true;break;case 32:if(u.opt.spacebarenabled){u.doScrollBy(-u.view.h);o=true}break;case 27:if(u.zoomactive){u.doZoom();o=true}break}if(o)return u.cancelEvent(e)}};u.bind(document,u.isopera?"keypress":"keydown",u.onkeypress);u.bind(window,"resize",u.resize);u.bind(window,"orientationchange",u.resize);u.bind(window,"load",u.resize);if(!u.ispage&&u.opt.boxzoom)u.bind(window,"resize",u.resizeZoom);if(u.istextarea)u.bind(u.win,"mouseup",u.resize);u.resize()}if(this.doc[0].nodeName=="IFRAME"){function c(e){u.iframexd=false;try{var t="contentDocument"in this?this.contentDocument:this.contentWindow.document;var n=t.domain}catch(e){u.iframexd=true;t=false}if(u.iframexd)return true;if(u.isiframe){u.iframe={html:u.doc.contents().find("html")[0],body:u.doc.contents().find("body")[0]};u.docscroll=o(this.contentWindow)}if(u.opt.iframeautoresize&&!u.isiframe){u.win.scrollTop(0);u.doc.height("");var r=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);u.doc.height(r)}u.resize();if(u.isie7)u.css(o(t).find("html"),{"overflow-y":"hidden"});u.css(o(t.body),{"overflow-y":"hidden"});if("contentWindow"in this){u.bind(this.contentWindow,"scroll",u.onscroll)}else{u.bind(t,"scroll",u.onscroll)}u.bind(t,"mouseup",u.onmouseup);u.bind(t,"mousewheel",u.onmousewheel);u.bind(t,u.isopera?"keypress":"keydown",u.onkeypress);if(u.cantouch||u.opt.touchbehavior){u.bind(t,"mousedown",u.onmousedown);if(u.cursorgrabvalue)u.css(o(t.body),{cursor:u.cursorgrabvalue})}u.bind(t,"mousemove",u.onmousemove);if(u.zoom){if(u.opt.dblclickzoom)u.bind(t,"dblclick",u.doZoom);if(u.ongesturezoom)u.bind(t,"gestureend",u.ongesturezoom)}}if(this.doc[0].readyState&&this.doc[0].readyState=="complete"){setTimeout(function(){c.call(u.doc[0],false)},500)}u.bind(this.doc,"load",c)}};this.showCursor=function(e){if(u.cursortimeout){clearTimeout(u.cursortimeout);u.cursortimeout=0}if(!u.rail)return;if(u.autohidedom)u.autohidedom.stop().css({opacity:u.opt.cursoropacitymax});if(typeof e!="undefined"){u.scroll.y=Math.round(e*1/u.scrollratio.y)}u.cursor.css({height:u.cursorheight,top:u.scroll.y});if(u.zoom)u.zoom.stop().css({opacity:u.opt.cursoropacitymax})};this.hideCursor=function(e){if(u.cursortimeout)return;if(!u.rail)return;if(!u.autohidedom)return;u.cursortimeout=setTimeout(function(){if(!u.rail.active){u.autohidedom.stop().animate({opacity:u.opt.cursoropacitymin});if(u.zoom)u.zoom.stop().animate({opacity:u.opt.cursoropacitymin})}u.cursortimeout=0},e||400)};this.noticeCursor=function(e,t){u.showCursor(t);u.hideCursor(e)};this.getContentSize=function(){var e=u.ispage?{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}:u.haswrapper?{w:u.doc.outerWidth()+parseInt(u.win.css("paddingLeft"))+parseInt(u.win.css("paddingRight")),h:u.doc.outerHeight()+parseInt(u.win.css("paddingTop"))+parseInt(u.win.css("paddingBottom"))}:u.iframe?{w:Math.max(u.iframe.html.scrollWidth,u.iframe.body.scrollWidth),h:Math.max(u.iframe.html.scrollHeight,u.iframe.body.scrollHeight)}:{w:u.docscroll[0].scrollWidth,h:u.docscroll[0].scrollHeight};return e};this.onResize=function(e,t){if(!u.haswrapper&&!u.ispage){var n=u.win.css("display")!="none";if(!n){if(u.visibility)u.hideRail();return false}else{if(!u.hidden&&!u.visibility)u.showRail()}}var r=u.page.maxh;var i=u.page.maxw;var s={h:u.view.h,w:u.view.w};u.view={w:u.ispage?u.win.width():parseInt(u.win[0].clientWidth),h:u.ispage?u.win.height():parseInt(u.win[0].clientHeight)};u.page=t?t:u.getContentSize();u.page.maxh=Math.max(0,u.page.h-u.view.h);u.page.maxw=Math.max(0,u.page.w-u.view.w);if(u.page.maxh==r&&u.page.maxw==i&&u.view.w==s.w){if(!u.ispage){var o=u.win.offset();if(u.lastposition){var a=u.lastposition;if(a.top==o.top&&a.left==o.left)return u}u.lastposition=o}else{return u}}if(u.page.maxh==0){u.hideRail();u.scrollvaluemax=0;u.scroll.y=0;u.scrollratio={x:0,y:0};u.cursorheight=0;u.locked=true;u.setScrollTop(0);return false}else if(!u.hidden&&!u.visibility){u.showRail();u.locked=false}if(u.istextarea&&u.win.css("resize")&&u.win.css("resize")!="none")u.view.h-=20;if(!u.ispage)u.updateScrollBar(u.view);u.cursorheight=Math.min(u.view.h,Math.round(u.view.h*(u.view.h/u.page.h)));u.cursorheight=Math.max(u.opt.cursorminheight,u.cursorheight);u.scrollvaluemax=u.view.h-u.cursorheight-u.cursor.hborder;u.scrollratio={x:0,y:u.page.maxh/u.scrollvaluemax};var f=u.getScrollTop();if(f>u.page.maxh){u.doScroll(u.page.maxh)}else{u.scroll.y=Math.round(u.getScrollTop()*(1/u.scrollratio.y));u.noticeCursor()}return u};this.resize=this.onResize;this._bind=function(e,t,n,r){u.events.push({e:e,n:t,f:n});if(e.addEventListener){e.addEventListener(t,n,r||false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}else{e["on"+t]=n}};this.bind=function(e,t,n,r){var i="jquery"in e?e[0]:e;if(i.addEventListener){if(u.cantouch&&/mouseup|mousedown|mousemove/.test(t)){var s=t=="mousedown"?"touchstart":t=="mouseup"?"touchend":"touchmove";u._bind(i,s,function(e){if(e.touches.length<2){var t=e.touches.length?e.touches[0]:e;t.original=e;n.call(this,t)}},r||false)}u._bind(i,t,n,r||false);if(t=="mousewheel")u._bind(i,"DOMMouseScroll",n,r||false);if(u.cantouch&&t=="mouseup")u._bind(i,"touchcancel",n,r||false)}else{u._bind(i,t,function(e){e=e||window.event||false;if(e){if(e.srcElement)e.target=e.srcElement}return n.call(i,e)===false||r===false?u.cancelEvent(e):true})}};this._unbind=function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else if(e.detachEvent){e.detachEvent("on"+t,n)}else{e["on"+t]=false}};this.unbindAll=function(){for(var e=0;e<u.events.length;e++){var t=u.events[e];u._unbind(t.e,t.n,t.f)}};this.cancelEvent=function(e){if(u.cantouch){e=e.original?e.original:e||false}else{e=e?e:window.event||false}if(!e)return false;if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault();e.cancelBubble=true;e.cancel=true;e.returnValue=false;return false};this.showRail=function(){if(u.page.maxh!=0&&(u.ispage||u.win.css("display")!="none")){u.visibility=true;u.rail.css("display","block")}return u};this.hideRail=function(){u.visibility=false;u.rail.css("display","none");return u};this.show=function(){u.hidden=false;u.locked=false;return u.showRail()};this.hide=function(){u.hidden=true;u.locked=true;return u.hideRail()};this.remove=function(){u.doZoomOut();u.unbindAll();u.events=[];u.rail.remove();if(u.zoom)u.zoom.remove();u.cursor=false;u.rail=false;u.zoom=false;for(var e=0;e<u.saved.css.length;e++){var t=u.saved.css[e];t[0].css(t[1],typeof t[2]=="undefined"?"":t[2])}u.saved=false;u.me.data("__nicescroll","");return u};this.isScrollable=function(e){var t=e.target?e.target:e;while(t&&t.nodeName&&!/BODY|HTML/.test(t.nodeName)){var n=o(t);var r=n.css("overflowY")||n.css("overflow")||"";if(/scroll|auto/.test(r))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:false}return false};this.onmousewheel=function(e){if(u.locked&&u.page.maxh==0)return true;if(u.opt.preservenativescrolling&&u.checkarea){u.checkarea=false;u.nativescrollingarea=u.isScrollable(e)}if(u.nativescrollingarea)return true;if(u.locked)return u.cancelEvent(e);if(u.rail.drag)return u.cancelEvent(e);var t=0;var t=e.detail?e.detail*-1:e.wheelDelta/40;if(t){if(u.scrollmom)u.scrollmom.y.stop();u.doScrollBy(t*u.opt.mousescrollstep)}return u.cancelEvent(e)};this.stop=function(){u.cancelScroll();if(u.scrollmon)u.scrollmon.stop();u.cursorfreezed=false;u.scroll.y=Math.round(u.getScrollTop()*(1/u.scrollratio.y));u.noticeCursor();return u};if(u.ishwscroll&&u.hastransition&&u.opt.usetransition){this.prepareTransition=function(e,t){var n=Math.round(u.opt.scrollspeed*10);var r=Math.min(n,Math.round(e/20*u.opt.scrollspeed));var i=r>20?u.prefixstyle+"transform "+r+"ms ease-out 0s":"";if(!u.lasttransitionstyle||u.lasttransitionstyle!=i){u.lasttransitionstyle=i;u.doc.css(u.transitionstyle,i)}return r};this.doScroll=function(e,t){var n=u.getScrollTop();if(e<0&&n<=0)return u.noticeCursor();else if(e>u.page.maxh&&n>=u.page.maxh){u.checkContentSize();return u.noticeCursor()}u.newscrolly=e;u.newscrollspeed=t||false;if(u.timer)return false;if(!u.scrollendtrapped){u.scrollendtrapped=true;u.bind(u.doc,u.transitionend,u.onScrollEnd,false)}u.timer=setTimeout(function(){var e=u.getScrollTop();var t=u.newscrollspeed?u.newscrollspeed:Math.abs(e-u.newscrolly);var n=u.prepareTransition(t);u.timer=setTimeout(function(){if(u.newscrolly<0&&!u.opt.bouncescroll)u.newscrolly=0;else if(u.newscrolly>u.page.maxh&&!u.opt.bouncescroll)u.newscrolly=u.page.maxh;if(u.newscrolly==u.getScrollTop()){u.timer=0;u.onScrollEnd()}else{var e=u.getScrollTop();if(u.timerscroll&&u.timerscroll.tm)clearInterval(u.timerscroll.tm);if(n>0){u.timerscroll={ts:(new Date).getTime(),s:u.getScrollTop(),e:u.newscrolly,sp:n,bz:new BezierClass(e,u.newscrolly,n,0,1,0,1)};if(!u.cursorfreezed)u.timerscroll.tm=setInterval(function(){u.showCursor(u.getScrollTop())},60)}u.setScrollTop(u.newscrolly);u.timer=0}},15)},u.opt.scrollspeed)};this.cancelScroll=function(){if(!u.scrollendtrapped)return true;var e=u.getScrollTop();u.scrollendtrapped=false;u._unbind(u.doc,u.transitionend,u.onScrollEnd);u.prepareTransition(0);u.setScrollTop(e);if(u.timerscroll&&u.timerscroll.tm)clearInterval(u.timerscroll.tm);u.timerscroll=false;u.cursorfreezed=false;u.noticeCursor(false,e);return u};this.onScrollEnd=function(){u.scrollendtrapped=false;u._unbind(u.doc,u.transitionend,u.onScrollEnd);if(u.timerscroll&&u.timerscroll.tm)clearInterval(u.timerscroll.tm);u.timerscroll=false;u.cursorfreezed=false;var e=u.getScrollTop();u.setScrollTop(e);u.noticeCursor(false,e);if(e<0)u.doScroll(0,60);else if(e>u.page.maxh)u.doScroll(u.page.maxh,60)}}else{this.doScroll=function(e){function s(){if(u.cancelAnimationFrame)return true;i=1-i;if(i)return u.timer=l(s)||1;var e=u.getScrollTop();var t=u.bzscroll?u.bzscroll.getNow():u.newscrolly;var n=t-e;if(n<0&&t<u.newscrolly||n>0&&t>u.newscrolly)t=u.newscrolly;u.setScrollTop(t);if(t==u.newscrolly){u.timer=0;u.cursorfreezed=false;u.bzscroll=false;if(t<0)u.doScroll(0);else if(t>u.page.maxh)u.doScroll(u.page.maxh)}else{u.timer=l(s)||1}}var t=u.getScrollTop();u.newscrolly=e;if(!u.bouncescroll){if(u.newscrolly<0){if(u.newspeedy)u.newspeedy.x=0;u.newscrolly=0}else if(u.newscrolly>u.page.maxh){if(u.newspeedy)u.newspeedy.x=u.page.maxh;u.newscrolly=u.page.maxh}}var n=Math.floor(Math.abs(e-t)/40);if(n>0){var r=Math.min(10,n)*100;u.bzscroll=u.bzscroll?u.bzscroll.update(e,r):new BezierClass(t,e,r,0,1,0,1)}else{u.bzscroll=false}if(u.timer)return;if(t==u.page.maxh&&e>=u.page.maxh)u.checkContentSize();var i=1;u.cancelAnimationFrame=false;u.timer=1;s();if(t==u.page.maxh&&e>=t)u.checkContentSize();u.noticeCursor()};this.cancelScroll=function(){if(u.timer)c(u.timer);u.timer=0;u.bzscroll=false;return u}}this.doScrollBy=function(e,t){var n=0;if(t){n=Math.floor((u.scroll.y-e)*u.scrollratio.y)}else{var r=u.timer?u.newscrolly:u.getScrollTop(true);n=r-e}if(u.bouncescroll){var i=Math.round(u.view.h/2);if(n<-i)n=-i;else if(n>u.page.maxh+i)n=u.page.maxh+i}u.cursorfreezed=false;u.doScroll(n)};this.doScrollTo=function(e,t){var n=t?Math.round(e*u.scrollratio.y):e;if(n<0)n=0;else if(n>u.page.maxh)n=u.page.maxh;u.cursorfreezed=false;u.doScroll(e)};this.checkContentSize=function(){var e=u.getContentSize();if(e.h!=u.page.h)u.resize(false,e)};u.onscroll=function(e){if(u.rail.drag)return;if(!u.cursorfreezed){u.delayed("onscroll",function(){u.scroll.y=Math.round(u.getScrollTop()*(1/u.scrollratio.y));u.noticeCursor()},30)}};u.bind(u.docscroll,"scroll",u.onscroll);this.doZoomIn=function(e){if(u.zoomactive)return;u.zoomactive=true;u.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"];var n=u.win[0].style;for(var r in t){var i=t[r];u.zoomrestore.style[i]=typeof n[i]!="undefined"?n[i]:""}u.zoomrestore.style.width=u.win.css("width");u.zoomrestore.style.height=u.win.css("height");u.zoomrestore.padding={w:u.win.outerWidth()-u.win.width(),h:u.win.outerHeight()-u.win.height()};if(u.isios4){u.zoomrestore.scrollTop=o(window).scrollTop();o(window).scrollTop(0)}u.win.css({position:u.isios4?"absolute":"fixed",top:0,left:0,"z-index":u.opt.zindex+100,margin:"0px"});var s=u.win.css("backgroundColor");if(s==""||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))u.win.css("backgroundColor","#fff");u.rail.css({"z-index":u.opt.zindex+110});u.zoom.css({"z-index":u.opt.zindex+112});u.zoom.css("backgroundPosition","0px -18px");u.resizeZoom();return u.cancelEvent(e)};this.doZoomOut=function(e){if(!u.zoomactive)return;u.zoomactive=false;u.win.css("margin","");u.win.css(u.zoomrestore.style);if(u.isios4){o(window).scrollTop(u.zoomrestore.scrollTop)}u.rail.css({"z-index":u.ispage?u.opt.zindex:u.opt.zindex+2});u.zoom.css({"z-index":u.opt.zindex});u.zoomrestore=false;u.zoom.css("backgroundPosition","0px 0px");u.onResize();return u.cancelEvent(e)};this.doZoom=function(e){return u.zoomactive?u.doZoomOut(e):u.doZoomIn(e)};this.resizeZoom=function(){if(!u.zoomactive)return;var e=u.getScrollTop();u.win.css({width:o(window).width()-u.zoomrestore.padding.w+"px",height:o(window).height()-u.zoomrestore.padding.h+"px"});u.onResize();u.setScrollTop(Math.min(u.page.maxh,e))};this.init()};var p=function(e){var t=this;this.nc=e;this.lasty=0;this.speedy=0;this.lasttime=0;this.snapy=false;this.demuly=0;this.timer=0;this.time=function(){return(new Date).getTime()};this.reset=function(e){t.stop();t.lasttime=t.time();t.speedy=0;t.lasty=e};this.update=function(n){t.lasttime=t.time();var r=n-t.lasty;var i=e.getScrollTop();var s=i+r;t.snapy=s<0||s>t.nc.page.maxh;t.speedy=r;t.lasty=n};this.stop=function(){if(t.timer){clearTimeout(t.timer);t.timer=0}};this.doSnapy=function(e){if(e<0){t.nc.doScroll(0,60)}else if(e>t.nc.page.maxh){t.nc.doScroll(t.nc.page.maxh,60)}};this.doMomentum=function(){var e=t.lasttime;var n=t.time();t.speedy=Math.min(60,t.speedy);var r=e&&n-e<=50;var i=t.speedy&&r?t.speedy:false;if(i){var s=n-e;var o=t.nc.page.maxh;t.demuly=0;var u=function(){var e=Math.floor(t.nc.getScrollTop()-t.speedy*(1-t.demuly));if(e<0||e>o){t.demuly+=.08}else{t.demuly+=.01}t.nc.setScrollTop(e);t.nc.showCursor(e);if(t.demuly<1){t.timer=setTimeout(u,s)}else{t.timer=0;t.nc.hideCursor();t.doSnapy(e)}};u()}else{if(t.snapy){t.doSnapy(t.nc.getScrollTop())}}}};var d=e.fn.scrollTop;o.cssHooks.scrollTop={get:function(e,t,n){var r=o.data(e,"__nicescroll")||false;return r&&r.ishwscroll?r.getScrollTop():d.call(e)},set:function(e,t){var n=o.data(e,"__nicescroll")||false;n&&n.ishwscroll?n.setScrollTop(parseInt(t)):d.call(e,t);return this}};e.fn.scrollTop=function(e){if(typeof e=="undefined"){var t=this[0]?o.data(this[0],"__nicescroll")||false:false;return t&&t.ishwscroll?t.getScrollTop():d.call(this)}else{return this.each(function(){var t=o.data(this,"__nicescroll")||false;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):d.call(o(this),e)})}};var v=function(e){var t=this;this.length=0;this.name="nicescrollarray";this.each=function(e){for(var n=0;n<t.length;n++)e.call(t[n]);return t};this.push=function(e){t[t.length]=e;t.length++};this.eq=function(e){return t[e]};if(e){for(a=0;a<e.length;a++){var n=o.data(e[a],"__nicescroll")||false;if(n){this[this.length]=n;this.length++}}}return this};m(v.prototype,["show","hide","onResize","resize","remove","stop"],function(e,t){e[t]=function(){return this.each(function(){this[t].call()})}});e.fn.getNiceScroll=function(e){if(typeof e=="undefined"){return new v(this)}else{var t=o.data(this[e],"__nicescroll")||false;return t}};e.extend(e.expr[":"],{nicescroll:function(e){return o.data(e,"__nicescroll")?true:false}});o.fn.niceScroll=function(e,t){if(typeof t=="undefined"){if(typeof e=="object"&&!("jquery"in e)){t=e;e=false}}var n=new v;if(typeof t=="undefined")t={};if(e||false){t.doc=o(e);t.win=o(this)}var r=!("doc"in t);if(!r&&!("win"in t))t.win=o(this);this.each(function(){var e=o(this).data("__nicescroll")||false;if(!e){t.doc=r?o(this):t.doc;e=new h(t,o(this));o(this).data("__nicescroll",e)}n.push(e)});return n.length==1?n[0]:n};window.NiceScroll={getjQuery:function(){return e}}})(jQuery)


 /*
 * jQuery FlexSlider v2.2.0
 * Copyright 2012 WooThemes
 * Contributing Author: Tyler Smith
 */;(function(e){e.flexslider=function(t,n){var r=e(t);r.vars=e.extend({},e.flexslider.defaults,n);var i=r.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&r.vars.touch,u="click touchend MSPointerUp",a="",f,l=r.vars.direction==="vertical",c=r.vars.reverse,h=r.vars.itemWidth>0,p=r.vars.animation==="fade",d=r.vars.asNavFor!=="",v={},m=!0;e.data(t,"flexslider",r);v={init:function(){r.animating=!1;r.currentSlide=parseInt(r.vars.startAt?r.vars.startAt:0);isNaN(r.currentSlide)&&(r.currentSlide=0);r.animatingTo=r.currentSlide;r.atEnd=r.currentSlide===0||r.currentSlide===r.last;r.containerSelector=r.vars.selector.substr(0,r.vars.selector.search(" "));r.slides=e(r.vars.selector,r);r.container=e(r.containerSelector,r);r.count=r.slides.length;r.syncExists=e(r.vars.sync).length>0;r.vars.animation==="slide"&&(r.vars.animation="swing");r.prop=l?"top":"marginLeft";r.args={};r.manualPause=!1;r.stopped=!1;r.started=!1;r.startTimeout=null;r.transitions=!r.vars.video&&!p&&r.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(e.style[t[n]]!==undefined){r.pfx=t[n].replace("Perspective","").toLowerCase();r.prop="-"+r.pfx+"-transform";return!0}return!1}();r.vars.controlsContainer!==""&&(r.controlsContainer=e(r.vars.controlsContainer).length>0&&e(r.vars.controlsContainer));r.vars.manualControls!==""&&(r.manualControls=e(r.vars.manualControls).length>0&&e(r.vars.manualControls));if(r.vars.randomize){r.slides.sort(function(){return Math.round(Math.random())-.5});r.container.empty().append(r.slides)}r.doMath();r.setup("init");r.vars.controlNav&&v.controlNav.setup();r.vars.directionNav&&v.directionNav.setup();r.vars.keyboard&&(e(r.containerSelector).length===1||r.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!r.animating&&(t===39||t===37)){var n=t===39?r.getTarget("next"):t===37?r.getTarget("prev"):!1;r.flexAnimate(n,r.vars.pauseOnAction)}});r.vars.mousewheel&&r.bind("mousewheel",function(e,t,n,i){e.preventDefault();var s=t<0?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(s,r.vars.pauseOnAction)});r.vars.pausePlay&&v.pausePlay.setup();r.vars.slideshow&&r.vars.pauseInvisible&&v.pauseInvisible.init();if(r.vars.slideshow){r.vars.pauseOnHover&&r.hover(function(){!r.manualPlay&&!r.manualPause&&r.pause()},function(){!r.manualPause&&!r.manualPlay&&!r.stopped&&r.play()});if(!r.vars.pauseInvisible||!v.pauseInvisible.isHidden())r.vars.initDelay>0?r.startTimeout=setTimeout(r.play,r.vars.initDelay):r.play()}d&&v.asNav.setup();o&&r.vars.touch&&v.touch();(!p||p&&r.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",v.resize);r.find("img").attr("draggable","false");setTimeout(function(){r.vars.start(r)},200)},asNav:{setup:function(){r.asNav=!0;r.animatingTo=Math.floor(r.currentSlide/r.move);r.currentItem=r.currentSlide;r.slides.removeClass(i+"active-slide").eq(r.currentItem).addClass(i+"active-slide");if(!s)r.slides.click(function(t){t.preventDefault();var n=e(this),s=n.index(),o=n.offset().left-e(r).scrollLeft();if(o<=0&&n.hasClass(i+"active-slide"))r.flexAnimate(r.getTarget("prev"),!0);else if(!e(r.vars.asNavFor).data("flexslider").animating&&!n.hasClass(i+"active-slide")){r.direction=r.currentItem<s?"next":"prev";r.flexAnimate(s,r.vars.pauseOnAction,!1,!0,!0)}});else{t._slider=r;r.slides.each(function(){var t=this;t._gesture=new MSGesture;t._gesture.target=t;t.addEventListener("MSPointerDown",function(e){e.preventDefault();e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1);t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),i=n.index();if(!e(r.vars.asNavFor).data("flexslider").animating&&!n.hasClass("active")){r.direction=r.currentItem<i?"next":"prev";r.flexAnimate(i,r.vars.pauseOnAction,!1,!0,!0)}})})}}},controlNav:{setup:function(){r.manualControls?v.controlNav.setupManual():v.controlNav.setupPaging()},setupPaging:function(){var t=r.vars.controlNav==="thumbnails"?"control-thumbs":"control-paging",n=1,s,o;r.controlNavScaffold=e('<ol class="'+i+"control-nav "+i+t+'"></ol>');if(r.pagingCount>1)for(var f=0;f<r.pagingCount;f++){o=r.slides.eq(f);s=r.vars.controlNav==="thumbnails"?'<img src="'+o.attr("data-thumb")+'"/>':"<a>"+n+"</a>";if("thumbnails"===r.vars.controlNav&&!0===r.vars.thumbCaptions){var l=o.attr("data-thumbcaption");""!=l&&undefined!=l&&(s+='<span class="'+i+'caption">'+l+"</span>")}r.controlNavScaffold.append("<li>"+s+"</li>");n++}r.controlsContainer?e(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold);v.controlNav.set();v.controlNav.active();r.controlNavScaffold.delegate("a, img",u,function(t){t.preventDefault();if(a===""||a===t.type){var n=e(this),s=r.controlNav.index(n);if(!n.hasClass(i+"active")){r.direction=s>r.currentSlide?"next":"prev";r.flexAnimate(s,r.vars.pauseOnAction)}}a===""&&(a=t.type);v.setToClearWatchedEvent()})},setupManual:function(){r.controlNav=r.manualControls;v.controlNav.active();r.controlNav.bind(u,function(t){t.preventDefault();if(a===""||a===t.type){var n=e(this),s=r.controlNav.index(n);if(!n.hasClass(i+"active")){s>r.currentSlide?r.direction="next":r.direction="prev";r.flexAnimate(s,r.vars.pauseOnAction)}}a===""&&(a=t.type);v.setToClearWatchedEvent()})},set:function(){var t=r.vars.controlNav==="thumbnails"?"img":"a";r.controlNav=e("."+i+"control-nav li "+t,r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(i+"active").eq(r.animatingTo).addClass(i+"active")},update:function(t,n){r.pagingCount>1&&t==="add"?r.controlNavScaffold.append(e("<li><a>"+r.count+"</a></li>")):r.pagingCount===1?r.controlNavScaffold.find("li").remove():r.controlNav.eq(n).closest("li").remove();v.controlNav.set();r.pagingCount>1&&r.pagingCount!==r.controlNav.length?r.update(n,t):v.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+i+'direction-nav"><li><a class="'+i+'prev" href="#">'+r.vars.prevText+'</a></li><li><a class="'+i+'next" href="#">'+r.vars.nextText+"</a></li></ul>");if(r.controlsContainer){e(r.controlsContainer).append(t);r.directionNav=e("."+i+"direction-nav li a",r.controlsContainer)}else{r.append(t);r.directionNav=e("."+i+"direction-nav li a",r)}v.directionNav.update();r.directionNav.bind(u,function(t){t.preventDefault();var n;if(a===""||a===t.type){n=e(this).hasClass(i+"next")?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(n,r.vars.pauseOnAction)}a===""&&(a=t.type);v.setToClearWatchedEvent()})},update:function(){var e=i+"disabled";r.pagingCount===1?r.directionNav.addClass(e).attr("tabindex","-1"):r.vars.animationLoop?r.directionNav.removeClass(e).removeAttr("tabindex"):r.animatingTo===0?r.directionNav.removeClass(e).filter("."+i+"prev").addClass(e).attr("tabindex","-1"):r.animatingTo===r.last?r.directionNav.removeClass(e).filter("."+i+"next").addClass(e).attr("tabindex","-1"):r.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+i+'pauseplay"><a></a></div>');if(r.controlsContainer){r.controlsContainer.append(t);r.pausePlay=e("."+i+"pauseplay a",r.controlsContainer)}else{r.append(t);r.pausePlay=e("."+i+"pauseplay a",r)}v.pausePlay.update(r.vars.slideshow?i+"pause":i+"play");r.pausePlay.bind(u,function(t){t.preventDefault();if(a===""||a===t.type)if(e(this).hasClass(i+"pause")){r.manualPause=!0;r.manualPlay=!1;r.pause()}else{r.manualPause=!1;r.manualPlay=!0;r.play()}a===""&&(a=t.type);v.setToClearWatchedEvent()})},update:function(e){e==="play"?r.pausePlay.removeClass(i+"pause").addClass(i+"play").html(r.vars.playText):r.pausePlay.removeClass(i+"play").addClass(i+"pause").html(r.vars.pauseText)}},touch:function(){var e,n,i,o,u,a,f=!1,d=0,v=0,m=0;if(!s){t.addEventListener("touchstart",g,!1);function g(s){if(r.animating)s.preventDefault();else if(window.navigator.msPointerEnabled||s.touches.length===1){r.pause();o=l?r.h:r.w;a=Number(new Date);d=s.touches[0].pageX;v=s.touches[0].pageY;i=h&&c&&r.animatingTo===r.last?0:h&&c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:h&&r.currentSlide===r.last?r.limit:h?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:c?(r.last-r.currentSlide+r.cloneOffset)*o:(r.currentSlide+r.cloneOffset)*o;e=l?v:d;n=l?d:v;t.addEventListener("touchmove",y,!1);t.addEventListener("touchend",b,!1)}}function y(t){d=t.touches[0].pageX;v=t.touches[0].pageY;u=l?e-v:e-d;f=l?Math.abs(u)<Math.abs(d-n):Math.abs(u)<Math.abs(v-n);var s=500;if(!f||Number(new Date)-a>s){t.preventDefault();if(!p&&r.transitions){r.vars.animationLoop||(u/=r.currentSlide===0&&u<0||r.currentSlide===r.last&&u>0?Math.abs(u)/o+2:1);r.setProps(i+u,"setTouch")}}}function b(s){t.removeEventListener("touchmove",y,!1);if(r.animatingTo===r.currentSlide&&!f&&u!==null){var l=c?-u:u,h=l>0?r.getTarget("next"):r.getTarget("prev");r.canAdvance(h)&&(Number(new Date)-a<550&&Math.abs(l)>50||Math.abs(l)>o/2)?r.flexAnimate(h,r.vars.pauseOnAction):p||r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,!0)}t.removeEventListener("touchend",b,!1);e=null;n=null;u=null;i=null}}else{t.style.msTouchAction="none";t._gesture=new MSGesture;t._gesture.target=t;t.addEventListener("MSPointerDown",w,!1);t._slider=r;t.addEventListener("MSGestureChange",E,!1);t.addEventListener("MSGestureEnd",S,!1);function w(e){e.stopPropagation();if(r.animating)e.preventDefault();else{r.pause();t._gesture.addPointer(e.pointerId);m=0;o=l?r.h:r.w;a=Number(new Date);i=h&&c&&r.animatingTo===r.last?0:h&&c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:h&&r.currentSlide===r.last?r.limit:h?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:c?(r.last-r.currentSlide+r.cloneOffset)*o:(r.currentSlide+r.cloneOffset)*o}}function E(e){e.stopPropagation();var n=e.target._slider;if(!n)return;var r=-e.translationX,s=-e.translationY;m+=l?s:r;u=m;f=l?Math.abs(m)<Math.abs(-r):Math.abs(m)<Math.abs(-s);if(e.detail===e.MSGESTURE_FLAG_INERTIA){setImmediate(function(){t._gesture.stop()});return}if(!f||Number(new Date)-a>500){e.preventDefault();if(!p&&n.transitions){n.vars.animationLoop||(u=m/(n.currentSlide===0&&m<0||n.currentSlide===n.last&&m>0?Math.abs(m)/o+2:1));n.setProps(i+u,"setTouch")}}}function S(t){t.stopPropagation();var r=t.target._slider;if(!r)return;if(r.animatingTo===r.currentSlide&&!f&&u!==null){var s=c?-u:u,l=s>0?r.getTarget("next"):r.getTarget("prev");r.canAdvance(l)&&(Number(new Date)-a<550&&Math.abs(s)>50||Math.abs(s)>o/2)?r.flexAnimate(l,r.vars.pauseOnAction):p||r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,!0)}e=null;n=null;u=null;i=null;m=0}}},resize:function(){if(!r.animating&&r.is(":visible")){h||r.doMath();if(p)v.smoothHeight();else if(h){r.slides.width(r.computedW);r.update(r.pagingCount);r.setProps()}else if(l){r.viewport.height(r.h);r.setProps(r.h,"setTotal")}else{r.vars.smoothHeight&&v.smoothHeight();r.newSlides.width(r.computedW);r.setProps(r.computedW,"setTotal")}}},smoothHeight:function(e){if(!l||p){var t=p?r:r.viewport;e?t.animate({height:r.slides.eq(r.animatingTo).height()},e):t.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var n=e(r.vars.sync).data("flexslider"),i=r.animatingTo;switch(t){case"animate":n.flexAnimate(i,r.vars.pauseOnAction,!1,!0);break;case"play":!n.playing&&!n.asNav&&n.play();break;case"pause":n.pause()}},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(v.pauseInvisible.visProp=e[t]+"Hidden");if(v.pauseInvisible.visProp){var n=v.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){v.pauseInvisible.isHidden()?r.startTimeout?clearTimeout(r.startTimeout):r.pause():r.started?r.play():r.vars.initDelay>0?setTimeout(r.play,r.vars.initDelay):r.play()})}},isHidden:function(){return document[v.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(f);f=setTimeout(function(){a=""},3e3)}};r.flexAnimate=function(t,n,s,u,a){!r.vars.animationLoop&&t!==r.currentSlide&&(r.direction=t>r.currentSlide?"next":"prev");d&&r.pagingCount===1&&(r.direction=r.currentItem<t?"next":"prev");if(!r.animating&&(r.canAdvance(t,a)||s)&&r.is(":visible")){if(d&&u){var f=e(r.vars.asNavFor).data("flexslider");r.atEnd=t===0||t===r.count-1;f.flexAnimate(t,!0,!1,!0,a);r.direction=r.currentItem<t?"next":"prev";f.direction=r.direction;if(Math.ceil((t+1)/r.visible)-1===r.currentSlide||t===0){r.currentItem=t;r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");return!1}r.currentItem=t;r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");t=Math.floor(t/r.visible)}r.animating=!0;r.animatingTo=t;n&&r.pause();r.vars.before(r);r.syncExists&&!a&&v.sync("animate");r.vars.controlNav&&v.controlNav.active();h||r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");r.atEnd=t===0||t===r.last;r.vars.directionNav&&v.directionNav.update();if(t===r.last){r.vars.end(r);r.vars.animationLoop||r.pause()}if(!p){var m=l?r.slides.filter(":first").height():r.computedW,g,y,b;if(h){g=r.vars.itemMargin;b=(r.itemW+g)*r.move*r.animatingTo;y=b>r.limit&&r.visible!==1?r.limit:b}else r.currentSlide===0&&t===r.count-1&&r.vars.animationLoop&&r.direction!=="next"?y=c?(r.count+r.cloneOffset)*m:0:r.currentSlide===r.last&&t===0&&r.vars.animationLoop&&r.direction!=="prev"?y=c?0:(r.count+1)*m:y=c?(r.count-1-t+r.cloneOffset)*m:(t+r.cloneOffset)*m;r.setProps(y,"",r.vars.animationSpeed);if(r.transitions){if(!r.vars.animationLoop||!r.atEnd){r.animating=!1;r.currentSlide=r.animatingTo}r.container.unbind("webkitTransitionEnd transitionend");r.container.bind("webkitTransitionEnd transitionend",function(){r.wrapup(m)})}else r.container.animate(r.args,r.vars.animationSpeed,r.vars.easing,function(){r.wrapup(m)})}else if(!o){r.slides.eq(r.currentSlide).css({zIndex:1}).animate({opacity:0},r.vars.animationSpeed,r.vars.easing);r.slides.eq(t).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing,r.wrapup)}else{r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1});r.slides.eq(t).css({opacity:1,zIndex:2});r.wrapup(m)}r.vars.smoothHeight&&v.smoothHeight(r.vars.animationSpeed)}};r.wrapup=function(e){!p&&!h&&(r.currentSlide===0&&r.animatingTo===r.last&&r.vars.animationLoop?r.setProps(e,"jumpEnd"):r.currentSlide===r.last&&r.animatingTo===0&&r.vars.animationLoop&&r.setProps(e,"jumpStart"));r.animating=!1;r.currentSlide=r.animatingTo;r.vars.after(r)};r.animateSlides=function(){!r.animating&&m&&r.flexAnimate(r.getTarget("next"))};r.pause=function(){clearInterval(r.animatedSlides);r.animatedSlides=null;r.playing=!1;r.vars.pausePlay&&v.pausePlay.update("play");r.syncExists&&v.sync("pause")};r.play=function(){r.playing&&clearInterval(r.animatedSlides);r.animatedSlides=r.animatedSlides||setInterval(r.animateSlides,r.vars.slideshowSpeed);r.started=r.playing=!0;r.vars.pausePlay&&v.pausePlay.update("pause");r.syncExists&&v.sync("play")};r.stop=function(){r.pause();r.stopped=!0};r.canAdvance=function(e,t){var n=d?r.pagingCount-1:r.last;return t?!0:d&&r.currentItem===r.count-1&&e===0&&r.direction==="prev"?!0:d&&r.currentItem===0&&e===r.pagingCount-1&&r.direction!=="next"?!1:e===r.currentSlide&&!d?!1:r.vars.animationLoop?!0:r.atEnd&&r.currentSlide===0&&e===n&&r.direction!=="next"?!1:r.atEnd&&r.currentSlide===n&&e===0&&r.direction==="next"?!1:!0};r.getTarget=function(e){r.direction=e;return e==="next"?r.currentSlide===r.last?0:r.currentSlide+1:r.currentSlide===0?r.last:r.currentSlide-1};r.setProps=function(e,t,n){var i=function(){var n=e?e:(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo,i=function(){if(h)return t==="setTouch"?e:c&&r.animatingTo===r.last?0:c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:n;switch(t){case"setTotal":return c?(r.count-1-r.currentSlide+r.cloneOffset)*e:(r.currentSlide+r.cloneOffset)*e;case"setTouch":return c?e:e;case"jumpEnd":return c?e:r.count*e;case"jumpStart":return c?r.count*e:e;default:return e}}();return i*-1+"px"}();if(r.transitions){i=l?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)";n=n!==undefined?n/1e3+"s":"0s";r.container.css("-"+r.pfx+"-transition-duration",n)}r.args[r.prop]=i;(r.transitions||n===undefined)&&r.container.css(r.args)};r.setup=function(t){if(!p){var n,s;if(t==="init"){r.viewport=e('<div class="'+i+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container);r.cloneCount=0;r.cloneOffset=0;if(c){s=e.makeArray(r.slides).reverse();r.slides=e(s);r.container.empty().append(r.slides)}}if(r.vars.animationLoop&&!h){r.cloneCount=2;r.cloneOffset=1;t!=="init"&&r.container.find(".clone").remove();r.container.append(r.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(r.slides.last().clone().addClass("clone").attr("aria-hidden","true"))}r.newSlides=e(r.vars.selector,r);n=c?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset;if(l&&!h){r.container.height((r.count+r.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){r.newSlides.css({display:"block"});r.doMath();r.viewport.height(r.h);r.setProps(n*r.h,"init")},t==="init"?100:0)}else{r.container.width((r.count+r.cloneCount)*200+"%");r.setProps(n*r.computedW,"init");setTimeout(function(){r.doMath();r.newSlides.css({width:r.computedW,"float":"left",display:"block"});r.vars.smoothHeight&&v.smoothHeight()},t==="init"?100:0)}}else{r.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"});t==="init"&&(o?r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+r.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2}):r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing));r.vars.smoothHeight&&v.smoothHeight()}h||r.slides.removeClass(i+"active-slide").eq(r.currentSlide).addClass(i+"active-slide")};r.doMath=function(){var e=r.slides.first(),t=r.vars.itemMargin,n=r.vars.minItems,i=r.vars.maxItems;r.w=r.viewport===undefined?r.width():r.viewport.width();r.h=e.height();r.boxPadding=e.outerWidth()-e.width();if(h){r.itemT=r.vars.itemWidth+t;r.minW=n?n*r.itemT:r.w;r.maxW=i?i*r.itemT-t:r.w;r.itemW=r.minW>r.w?(r.w-t*(n-1))/n:r.maxW<r.w?(r.w-t*(i-1))/i:r.vars.itemWidth>r.w?r.w:r.vars.itemWidth;r.visible=Math.floor(r.w/r.itemW);r.move=r.vars.move>0&&r.vars.move<r.visible?r.vars.move:r.visible;r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1);r.last=r.pagingCount-1;r.limit=r.pagingCount===1?0:r.vars.itemWidth>r.w?r.itemW*(r.count-1)+t*(r.count-1):(r.itemW+t)*r.count-r.w-t}else{r.itemW=r.w;r.pagingCount=r.count;r.last=r.count-1}r.computedW=r.itemW-r.boxPadding};r.update=function(e,t){r.doMath();if(!h){e<r.currentSlide?r.currentSlide+=1:e<=r.currentSlide&&e!==0&&(r.currentSlide-=1);r.animatingTo=r.currentSlide}if(r.vars.controlNav&&!r.manualControls)if(t==="add"&&!h||r.pagingCount>r.controlNav.length)v.controlNav.update("add");else if(t==="remove"&&!h||r.pagingCount<r.controlNav.length){if(h&&r.currentSlide>r.last){r.currentSlide-=1;r.animatingTo-=1}v.controlNav.update("remove",r.last)}r.vars.directionNav&&v.directionNav.update()};r.addSlide=function(t,n){var i=e(t);r.count+=1;r.last=r.count-1;l&&c?n!==undefined?r.slides.eq(r.count-n).after(i):r.container.prepend(i):n!==undefined?r.slides.eq(n).before(i):r.container.append(i);r.update(n,"add");r.slides=e(r.vars.selector+":not(.clone)",r);r.setup();r.vars.added(r)};r.removeSlide=function(t){var n=isNaN(t)?r.slides.index(e(t)):t;r.count-=1;r.last=r.count-1;isNaN(t)?e(t,r.slides).remove():l&&c?r.slides.eq(r.last).remove():r.slides.eq(t).remove();r.doMath();r.update(n,"remove");r.slides=e(r.vars.selector+":not(.clone)",r);r.setup();r.vars.removed(r)};v.init()};e(window).blur(function(e){focused=!1}).focus(function(e){focused=!0});e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};e.fn.flexslider=function(t){t===undefined&&(t={});if(typeof t=="object")return this.each(function(){var n=e(this),r=t.selector?t.selector:".slides > li",i=n.find(r);if(i.length===1&&t.allowOneSlide===!0||i.length===0){i.fadeIn(400);t.start&&t.start(n)}else n.data("flexslider")===undefined&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:typeof t=="number"&&n.flexAnimate(t,!0)}}})(jQuery);

// Adds Manual Nav COntrol for the Testimonials Slider
(function(e,t,n,r){function o(t,n){this.element=t;this.options=e.extend({},s,n);this._flexslider=e(t).data("flexslider");this._originalFlexsliderWrapupFunction=this._flexslider.wrapup;this._defaults=s;this._name=i;this.init()}var i="flexsliderManualDirectionControls",s={previousElementSelector:".previous",nextElementSelector:".next",disabledStateClassName:"disable"};o.prototype.init=function(){this.addEventListeners();var e=this;this._flexslider.wrapup=function(t){e.onAnimationEnd.call(e,t)}};o.prototype.addEventListeners=function(){e(this.element).find(this.options.previousElementSelector).bind("touchstart.flexsliderPromo click.flexsliderPromo",{self:this},function(e){e.stopPropagation();e.preventDefault();if(!e.handled){e.data.self.goToTargetInDirection("prev");e.handled=true}});e(this.element).find(this.options.nextElementSelector).bind("click.flexsliderPromo",{self:this},function(e){e.stopPropagation();e.preventDefault();if(!e.handled){e.data.self.goToTargetInDirection("next");e.handled=true}})};o.prototype.goToTargetInDirection=function(e){var t=this._flexslider.getTarget(e);if(this._flexslider.canAdvance(t)){this._flexslider.flexAnimate(t)}return false};o.prototype.addOrRemoveDisabledStateForDirection=function(e,t){var n=this._flexslider.getTarget(e);if(!this._flexslider.canAdvance(n)){t.addClass(this.options.disabledStateClassName)}else{t.removeClass(this.options.disabledStateClassName)}};o.prototype.onAnimationEnd=function(t){var n=e(this.element).find(this.options.nextElementSelector),r=e(this.element).find(this.options.previousElementSelector);this.addOrRemoveDisabledStateForDirection("next",n);this.addOrRemoveDisabledStateForDirection("prev",r);this._originalFlexsliderWrapupFunction(t)};e.fn[i]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new o(this,t))}})}})(jQuery,window,document)


